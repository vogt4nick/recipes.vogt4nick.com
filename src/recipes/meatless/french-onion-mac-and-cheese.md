=== "Ingredients"
    | Amount  | Ingredient                  |
    | :------ | :-------------------------- |
    | 30 g    | Butter, unsalted            |
    | 900 g   | Onions, sliced              |
    | 180 ml  | White Wine                  |
    | 15 ml   | Thyme Leaves                |
    | ---     | ---                         |
    | 1000 ml | Water, salted               |
    | 225 g   | Macaroni, dry               |
    | ---     | ---                         |
    | 60 g    | Butter, unsalted            |
    | 60 ml   | All-Purpose Flour           |
    | 800 ml  | Whole Milk, cold            |
    | 100 g   | Gruyere, grated             |
    | 200 g   | Cheddar, grated             |
    | 7 ml    | Dijon Mustard               |
    | 2 ml    | Kosher Salt                 |
    | 2 ml    | Black Pepper                |
    | ---     | ---                         |
    |         | *Caramelized Onion*         |
    |         | *Parboiled Macaroni*        |
    |         | *Caramelized Onion Garnish* |
    | 100 g   | Gruyere, grated             |
    | 100 g   | Breadcrumbs                 |
    | 15 ml   | Thyme Leaves                |


=== "Directions"
    1. **Preheat oven** to 425F (220C).
    2. **Caramelize Onions.** Melt butter in skillet over medium heat. Add onions, salt. Coat evenly. Saute 30 minutes, stirring every 5 minutes, until caramelized. Add wine, thyme. Stir evenly, scraping up fond. Reduce by half. Remove from heat. Reserve 30 ml as *caramelized onion garnish*, and remainder as *caramelized onion*.
    3. **Parboil macaroni.** Cook dry macaroni 2 minutes less than packet instructions. Drain. Referenced later as *parboiled macaroni*.
    4. **Prepare cheese sauce.** Melt butter in oven-safe skillet over medium heat. Add flour. Whisk to combine. Slowly add milk, whisking constantly, until smooth. Reduce 5 minutes until thickened. Add cheese. Stir evenly until fully melted. Add mustard, salt, pepper.
    5. **Combine.** Add *cooked macaroni*, *caramelized onion* to cheese sauce. Stir to combine. Layer *caramelized onion garnish*, gruyere, bread crumbs, thyme.
    6. **Bake.** Transfer oven-safe skillet to oven. Bake 10 minutes at 425F, until top layer is bubbling and golden brown. Remove from heat. Cool 10 minutes at room temperature. Serve.


??? tip "Don't add too much bacon"
    Fight the urge to add bacon to the recipe. Invest in high-quality, robust cheeses instead!

??? abstract "References"
    Inspired by [Mob Kitchen](https://www.reddit.com/r/MobKitchen/comments/ew62bu/mobs_french_onion_mac_cheese/).
